<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <title>My test page</title>
  </head>
  <body>
    <p>This is my page</p>

    <script>
      function fetchAndDecode(url, type) {
        return fetch(url).then(function(response) {
          if (!response.ok) {
            throw new Error(`HTTP error detected. Status: ${response.ok}`);
          } else {
            if (type === 'blob') {
              return response.blob();
            } else if (type === 'text') {
              return response.text();
            }
          }
        }).catch(function(e) {
          console.log(`problem has been detected with your fetching operations for resource. Error "${url}"` + e.message);
        }) 
      };
      let coffee = fetchAndDecode('coffee.jpg', 'blob');
      let tea = fetchAndDecode('tea.jpg', 'blob');
      let description = fetchAndDecode('description.txt', 'text');

      Promise.all([coffee, tea, description]).then(function(values) {
        console.log(values);
      });

    </script>

  </body>
</html>